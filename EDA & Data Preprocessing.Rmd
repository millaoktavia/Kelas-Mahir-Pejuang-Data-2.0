---
title: "EDA & Data Preprocessing in R"
author: "Milla Oktavia"
date: "22/03/2021"
output:
  html_document: default
  pdf_document: default
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

![](D:/Milik milla/PSDS/Kelas Mahir/KM01 Header Notebook.png)

## **Pendahuluan**
Bagian ini merupakan bentuk R Markdown tentang EDA dan Data Preprocessing.

### Import Library
```{r}
if(!require(tidyverse)) install.packages("tidyverse")
if(!require(skimr)) install.packages("skimr")
if(!require(DataExplorer)) install.packages("DataExplorer")
if(!require(visdat)) install.packages("visdat")

library(visdat)
library(tidyverse)
library(skimr)
library(DataExplorer)
library(dplyr)
library(ggplot2)
library(tidyr)
library(readr)
library(tibble)
```
### Mengakses Dataset

```{r}
df  <- read.csv("https://raw.githubusercontent.com/millaoktavia/Kelas-Mahir-Pejuang-Data-2.0/main/titanic_modify.csv",sep=';', stringsAsFactors = T)
df[0:5,]
```

### Tujuan Analisis Data
Melakukan klasifikasi penumpang yang selamat dan tidak selamat pada kasus tenggelamnya kapal Titanic.



### Memahami dataset

Dataset Titanic dibuat untuk membuat machine learning untuk melakukan klasifikasi biner(Selamat atau Tidak Selamat. Variabel-variabel yang terdapat pada dataset ini adalah sebagai berikut:

1. **PassengerId** = Nomor Id Penumpang 
2. **Survived** = Keterangan Selamat(0=Tidak, 1=Ya)
3. **Pclass** = Kelas Tiket (1=Kelas 1, 2=Kelas 2, dst)
4. **Name** = Nama Penumpang
5. **Sex** = Jenis kelamin
6. **Age** = Usia dalam tahun
7. **SibSp** = Jumlah saudara kandung / pasangan di kapal Titanic
8. **Parch** = Jumlah orang tua / anak di kapal Titanic
9. **Ticket** = Nomor Tiket
10. **Fare** = Harga Tiket
11. **Cabin** = Nama Kabin
12. **Embarked** = Pelabuhan Asal (C = Cherbourg, Q = Queenstown, S = Southampton)

##**Eksploratory Data Analysis**

### Dimensi Data
```{r}
dim(df)
```
Artinya kita memiliki data dengan 12 kolom dan 707 baris

### Variabel Pada Dataset

```{r}
names(df)
```
Digunakan untuk menampilkan nama variable tiap dataset.

```{r}
df$Fare=as.numeric(df$Fare)
```
Mengubah tipe data fare menjadi numerik.

```{r}
str(df)
```
Kita dapat mengetahui tipe-tipe data masing-masing variabel dan nama-nama variabel dalam dataset.

### Mengecek Missing Data
```{r}
sapply(df, function(x) sum(is.na(x)))
```

Berarti di data Age terdapat 145 data hilang
```{r}
vis_miss(df)
```

### Mengecek Outlier
```{r}
plot_boxplot(df,by="Age")
```

### Melihat korelasi data
```{r}
plot_correlation(df)
```
### Melihat statistik data
```{r}
summary(df)
```

### Pairplot
```{r}
plot_scatterplot(df, by="Survived")
```
##**Data Preprocessing**
Data preprocessing ini digunakan guna menyiapkan data untuk diklasifikasi menggunakan metode SVM(Hanya Contoh).

Setelah mengetahui hasil EDA di atas maka untuk hasil yang baik diperlukan beberapa hal sebagai berikut:

1. Menghapus kolom teks yang tidak diperlukan:Name dan Ticket
2. Mengisi NaN pada kolom Cabin dengan salah satu nama kabin tertentu, mengisi NaN pada    kolom *Age** dengan nilai rata-ratanya
3. Melakukan pengkodean(Encoding) pada kolom Sex , Cabin, dan Embarked
4. Menghapus outlier
5. Karena nilai data ada yang sangat besar dan kecil maka perlu dilakukan normalisasi.

Setelah data diperbaiki dilakukan langkah sebagai berikut:

1. Memilih variabel independent dan label
2. Membagi data menjadi data training dan data testing

[Note] * Ini hanya contoh untuk melakukan pengisian data NaN(Kosong), nama kabin mungkin menjadi penting sehingga tidak segampang itu diganti

### Seleksi Kolom
```{r}
df_1=df[, -c(4,9)]
df_1
```
### Mengisi NAN

```{r}
df$Cabin = ifelse(is.na(df$Cabin),
                  ave(df$Cabin,FUN=function(x) mean(x, na.rm=TRUE)), df$Cabin)

#Di console ketik "view(df)" lalu enter
```

### Normalisasi data
```{r}
unit_length <- function(x) {
                            x / sqrt(sum(x^2))
                            }

unit_length_df <- as.data.frame(lapply(df, unit_length))

head(unit_length_df)
```
Normalisasi Panjang Unit.Normalisasi Panjang Satuan mengubah x menjadi x 'dengan membagi setiap nilai vektor fitur dengan panjang vektor Euclidean.



##**This is the end of Notebooks**

`Say: Alhamdulillah, panjang banget dah :)`


